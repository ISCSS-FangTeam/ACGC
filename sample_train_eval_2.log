{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/VOCdevkit/VOC2012/', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'voc12/train_aug.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 8, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': 0.25, 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': True, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': False, 'eval_sem_seg_pass': False}
step.eval_cam: Thu May 20 23:17:04 2021
threshold: 0.25 iou: [0.64063336 0.66793459] miou: 0.6542839758032712 i_imgs 2092
among_predfg_bg 0.30130618103290246
threshold: 0.26 iou: [0.65017548 0.67180948] miou: 0.6609924797739353 i_imgs 2092
among_predfg_bg 0.2941692979526399
threshold: 0.27 iou: [0.65923765 0.67540058] miou: 0.6673191168521782 i_imgs 2092
among_predfg_bg 0.2870558111492544
threshold: 0.28 iou: [0.66785708 0.67874277] miou: 0.6732999232409183 i_imgs 2092
among_predfg_bg 0.2799496662929376
threshold: 0.29 iou: [0.67600052 0.6818037 ] miou: 0.678902112628737 i_imgs 2092
among_predfg_bg 0.272880280863165
threshold: 0.3 iou: [0.68366499 0.68452872] miou: 0.6840968543995798 i_imgs 2092
among_predfg_bg 0.26583796946873484
threshold: 0.31 iou: [0.69080333 0.68688071] miou: 0.6888420207392688 i_imgs 2092
among_predfg_bg 0.25886843890543293
threshold: 0.32 iou: [0.69747707 0.68889682] miou: 0.6931869469517347 i_imgs 2092
among_predfg_bg 0.25193408219283164
threshold: 0.33 iou: [0.70365831 0.69051598] miou: 0.6970871471542648 i_imgs 2092
among_predfg_bg 0.24504858754661007
threshold: 0.34 iou: [0.70932676 0.69167623] miou: 0.7005014954860889 i_imgs 2092
among_predfg_bg 0.23821516773063744
threshold: 0.35 iou: [0.71448519 0.69237465] miou: 0.7034299228888716 i_imgs 2092
among_predfg_bg 0.23144409670440222
threshold: 0.36 iou: [0.71921375 0.69270781] miou: 0.7059607831142445 i_imgs 2092
among_predfg_bg 0.224706013979958
threshold: 0.37 iou: [0.72345869 0.69257599] miou: 0.7080173393938948 i_imgs 2092
among_predfg_bg 0.21802789831892444
threshold: 0.38 iou: [0.7272406  0.69199126] miou: 0.7096159301371854 i_imgs 2092
among_predfg_bg 0.2114089657041819
threshold: 0.39 iou: [0.73055158 0.69094499] miou: 0.710748285945108 i_imgs 2092
among_predfg_bg 0.20488068383962713
threshold: 0.4 iou: [0.7333866  0.68935863] miou: 0.7113726152155602 i_imgs 2092
among_predfg_bg 0.1984112356503803
threshold: 0.41 iou: [0.73570647 0.68716584] miou: 0.7114361554744052 i_imgs 2092
among_predfg_bg 0.19203915259754897
threshold: 0.42 iou: [0.73752331 0.68436318] miou: 0.7109432425118316 i_imgs 2092
among_predfg_bg 0.18577168413587963
threshold: 0.43 iou: [0.73886189 0.6809738 ] miou: 0.7099178452881629 i_imgs 2092
among_predfg_bg 0.1796191778752006
threshold: 0.44 iou: [0.73976842 0.6769929 ] miou: 0.708380662454638 i_imgs 2092
among_predfg_bg 0.1735171680286604
result/cam_adv_mask_cdy
[0.6542839758032712, 0.6609924797739353, 0.6673191168521782, 0.6732999232409183, 0.678902112628737, 0.6840968543995798, 0.6888420207392688, 0.6931869469517347, 0.6970871471542648, 0.7005014954860889, 0.7034299228888716, 0.7059607831142445, 0.7080173393938948, 0.7096159301371854, 0.710748285945108, 0.7113726152155602, 0.7114361554744052, 0.7109432425118316, 0.7099178452881629, 0.708380662454638]
0.7114361554744052
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'cdy12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'voc12/train_aug.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.45, 'conf_bg_thres': 0.35, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 8, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': 0.25, 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label_cdy', 'sem_seg_out_dir': 'result/sem_seg', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': True, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': False, 'eval_sem_seg_pass': False}
step.cam_to_ir_label: Thu May 20 23:18:16 2021
[ ]
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'cdy12/train_aug_building.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 256, 'irn_batch_size': 32, 'irn_num_epoches': 20, 'irn_learning_rate': 0.01, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 8, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': 0.25, 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy.pth', 'cam_out_dir': 'result/cam_adv_mask', 'ir_label_out_dir': 'result/ir_label_cdy', 'sem_seg_out_dir': 'result/sem_seg', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': True, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': False, 'eval_sem_seg_pass': False}
step.train_irn: Thu May 20 23:20:09 2021
model pretrained initialized
Epoch 1/20
step:    0/ 1300 loss:0.7790 0.6269 1.9950 0.1774 imps:46.6 lr: 0.0100 etc:Thu May 20 23:35:02 2021
step:   50/ 1300 loss:0.7694 0.5956 1.9768 0.0399 imps:158.9 lr: 0.0097 etc:Thu May 20 23:24:32 2021
Epoch 2/20
step:  100/ 1300 loss:0.7495 0.5495 1.9755 0.0112 imps:159.8 lr: 0.0093 etc:Thu May 20 23:24:30 2021
Epoch 3/20
step:  150/ 1300 loss:0.7049 0.5462 1.9756 0.0065 imps:154.6 lr: 0.0090 etc:Thu May 20 23:24:30 2021
Epoch 4/20
step:  200/ 1300 loss:0.6524 0.5428 1.9748 0.0054 imps:136.6 lr: 0.0086 etc:Thu May 20 23:24:30 2021
step:  250/ 1300 loss:0.6145 0.5315 1.9750 0.0046 imps:161.8 lr: 0.0083 etc:Thu May 20 23:24:28 2021
Epoch 5/20
step:  300/ 1300 loss:0.5892 0.5141 1.9745 0.0040 imps:160.6 lr: 0.0079 etc:Thu May 20 23:24:28 2021
Epoch 6/20
step:  350/ 1300 loss:0.5674 0.5065 1.9753 0.0035 imps:156.3 lr: 0.0075 etc:Thu May 20 23:24:29 2021
Epoch 7/20
step:  400/ 1300 loss:0.5508 0.4859 1.9759 0.0032 imps:145.5 lr: 0.0072 etc:Thu May 20 23:24:29 2021
step:  450/ 1300 loss:0.5418 0.4678 1.9757 0.0028 imps:159.9 lr: 0.0068 etc:Thu May 20 23:24:29 2021
Epoch 8/20
step:  500/ 1300 loss:0.5303 0.4656 1.9750 0.0026 imps:158.1 lr: 0.0065 etc:Thu May 20 23:24:29 2021
Epoch 9/20
step:  550/ 1300 loss:0.5205 0.4557 1.9758 0.0023 imps:155.8 lr: 0.0061 etc:Thu May 20 23:24:30 2021
Epoch 10/20
step:  600/ 1300 loss:0.5231 0.4478 1.9751 0.0022 imps:151.0 lr: 0.0057 etc:Thu May 20 23:24:30 2021
Epoch 11/20
step:  650/ 1300 loss:0.5103 0.4468 1.9752 0.0020 imps:67.6 lr: 0.0054 etc:Thu May 20 23:24:30 2021
step:  700/ 1300 loss:0.5047 0.4436 1.9757 0.0018 imps:158.1 lr: 0.0050 etc:Thu May 20 23:24:30 2021
Epoch 12/20
step:  750/ 1300 loss:0.5093 0.4395 1.9751 0.0016 imps:156.7 lr: 0.0046 etc:Thu May 20 23:24:30 2021
Epoch 13/20
step:  800/ 1300 loss:0.5007 0.4323 1.9751 0.0015 imps:152.5 lr: 0.0042 etc:Thu May 20 23:24:31 2021
Epoch 14/20
step:  850/ 1300 loss:0.4976 0.4358 1.9753 0.0013 imps:129.9 lr: 0.0038 etc:Thu May 20 23:24:31 2021
step:  900/ 1300 loss:0.5003 0.4271 1.9752 0.0012 imps:157.8 lr: 0.0035 etc:Thu May 20 23:24:31 2021
Epoch 15/20
step:  950/ 1300 loss:0.4947 0.4347 1.9752 0.0011 imps:157.4 lr: 0.0031 etc:Thu May 20 23:24:31 2021
Epoch 16/20
step: 1000/ 1300 loss:0.4989 0.4236 1.9757 0.0010 imps:154.4 lr: 0.0027 etc:Thu May 20 23:24:31 2021
Epoch 17/20
step: 1050/ 1300 loss:0.4936 0.4221 1.9744 0.0008 imps:146.2 lr: 0.0023 etc:Thu May 20 23:24:31 2021
step: 1100/ 1300 loss:0.4932 0.4250 1.9751 0.0007 imps:159.0 lr: 0.0019 etc:Thu May 20 23:24:31 2021
Epoch 18/20
step: 1150/ 1300 loss:0.4890 0.4264 1.9753 0.0006 imps:157.6 lr: 0.0014 etc:Thu May 20 23:24:31 2021
Epoch 19/20
step: 1200/ 1300 loss:0.4932 0.4135 1.9748 0.0006 imps:155.6 lr: 0.0010 etc:Thu May 20 23:24:31 2021
Epoch 20/20
step: 1250/ 1300 loss:0.4888 0.4298 1.9751 0.0006 imps:149.0 lr: 0.0005 etc:Thu May 20 23:24:31 2021
Analyzing displacements mean ... done.
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 8, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': '0.4', 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg_cdy', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': True, 'eval_sem_seg_pass': True}
step.make_sem_seg_labels: Thu May 20 23:24:40 2021
model pretrained initialized
sess/res50_irn_cdy.pth
[]
step.eval_sem_seg: Thu May 20 23:30:04 2021
[[69823717  5963123]
 [12952071 48362401]]
total images 2092
0.14595706499035133 0.06719851452763492
0.08863460413529944 0.19251685497972992
{'iou': array([0.78684442, 0.71884854]), 'miou': 0.7528464806834922}
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/VOCdevkit/VOC2012/', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'voc12/train_aug.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 8, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': 0.25, 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': True, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': False, 'eval_sem_seg_pass': False}
step.eval_cam: Wed May 26 17:17:33 2021
threshold: 0.25 iou: [0.69969069 0.6912714 ] miou: 0.695481042910221 i_imgs 2092
among_predfg_bg 0.2505427882878435
threshold: 0.26 iou: [0.70637386 0.69307168] miou: 0.699722768881359 i_imgs 2092
among_predfg_bg 0.24307024628806195
threshold: 0.27 iou: [0.71245076 0.69440787] miou: 0.7034293149398291 i_imgs 2092
among_predfg_bg 0.2357156909899774
threshold: 0.28 iou: [0.71799712 0.69534014] miou: 0.7066686286660933 i_imgs 2092
among_predfg_bg 0.22844469699468328
threshold: 0.29 iou: [0.72298649 0.69582061] miou: 0.7094035530354996 i_imgs 2092
among_predfg_bg 0.22129207423646743
threshold: 0.3 iou: [0.72731477 0.69571353] miou: 0.7115141511480318 i_imgs 2092
among_predfg_bg 0.21435200296190177
threshold: 0.31 iou: [0.73107096 0.69504734] miou: 0.7130591487955297 i_imgs 2092
among_predfg_bg 0.20754566860398616
threshold: 0.32 iou: [0.73426276 0.69381055] miou: 0.7140366557073059 i_imgs 2092
among_predfg_bg 0.20088678727713075
threshold: 0.33 iou: [0.73692762 0.69202323] miou: 0.7144754251616343 i_imgs 2092
among_predfg_bg 0.19436568712054494
threshold: 0.34 iou: [0.73908797 0.68968442] miou: 0.7143861935582436 i_imgs 2092
among_predfg_bg 0.18797851563272158
threshold: 0.35 iou: [0.74072581 0.68674505] miou: 0.7137354334544695 i_imgs 2092
among_predfg_bg 0.18175243808076685
threshold: 0.36 iou: [0.74186372 0.68319715] miou: 0.7125304321896595 i_imgs 2092
among_predfg_bg 0.17567694484194488
threshold: 0.37 iou: [0.74255747 0.67908722] miou: 0.7108223481613407 i_imgs 2092
among_predfg_bg 0.16972587494308047
threshold: 0.38 iou: [0.74279566 0.67437345] miou: 0.708584556444359 i_imgs 2092
among_predfg_bg 0.16391948762536335
threshold: 0.39 iou: [0.74260601 0.66907427] miou: 0.7058401391707532 i_imgs 2092
among_predfg_bg 0.15825921557027373
threshold: 0.4 iou: [0.74196808 0.66311831] miou: 0.7025431980457184 i_imgs 2092
among_predfg_bg 0.15275508658847758
threshold: 0.41 iou: [0.74092833 0.65653631] miou: 0.6987323179366327 i_imgs 2092
among_predfg_bg 0.14737635951252198
threshold: 0.42 iou: [0.73944206 0.64926519] miou: 0.6943536234619379 i_imgs 2092
among_predfg_bg 0.14220645916625269
threshold: 0.43 iou: [0.7375911  0.64138214] miou: 0.6894866212681888 i_imgs 2092
among_predfg_bg 0.13717948740682823
threshold: 0.44 iou: [0.73536875 0.6328366 ] miou: 0.6841026729003894 i_imgs 2092
among_predfg_bg 0.13229509986659238
result/cam_adv_mask_cdy
[0.695481042910221, 0.699722768881359, 0.7034293149398291, 0.7066686286660933, 0.7094035530354996, 0.7115141511480318, 0.7130591487955297, 0.7140366557073059, 0.7144754251616343, 0.7143861935582436, 0.7137354334544695, 0.7125304321896595, 0.7108223481613407, 0.708584556444359, 0.7058401391707532, 0.7025431980457184, 0.6987323179366327, 0.6943536234619379, 0.6894866212681888, 0.6841026729003894]
0.7144754251616343
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'cdy12/train_aug_building.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 256, 'irn_batch_size': 32, 'irn_num_epoches': 20, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 8, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': 0.25, 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy.pth', 'cam_out_dir': 'result/cam_adv_mask', 'ir_label_out_dir': 'result/ir_label_cdy', 'sem_seg_out_dir': 'result/sem_seg', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': True, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': False, 'eval_sem_seg_pass': False}
step.train_irn: Thu Jul 15 16:09:45 2021
model pretrained initialized
Epoch 1/20
step:    0/ 1300 loss:0.8314 0.5230 4.0793 0.2058 imps:32.6 lr: 0.1000 etc:Thu Jul 15 16:31:05 2021
step:   50/ 1300 loss:0.6317 0.5499 4.0812 0.0199 imps:126.6 lr: 0.0965 etc:Thu Jul 15 16:15:16 2021
Epoch 2/20
step:  100/ 1300 loss:0.5341 0.4687 3.9945 0.0697 imps:127.2 lr: 0.0930 etc:Thu Jul 15 16:15:13 2021
Epoch 3/20
step:  150/ 1300 loss:0.5014 0.4230 3.6907 0.1468 imps:122.3 lr: 0.0896 etc:Thu Jul 15 16:15:13 2021
Epoch 4/20
step:  200/ 1300 loss:0.4769 0.4008 3.5596 0.1425 imps:105.1 lr: 0.0860 etc:Thu Jul 15 16:15:12 2021
step:  250/ 1300 loss:0.4616 0.3868 3.4416 0.1555 imps:129.4 lr: 0.0825 etc:Thu Jul 15 16:15:10 2021
Epoch 5/20
step:  300/ 1300 loss:0.4574 0.3741 3.2185 0.2056 imps:126.6 lr: 0.0790 etc:Thu Jul 15 16:15:10 2021
Epoch 6/20
step:  350/ 1300 loss:0.4508 0.3727 3.1023 0.1986 imps:125.8 lr: 0.0754 etc:Thu Jul 15 16:15:10 2021
Epoch 7/20
step:  400/ 1300 loss:0.4465 0.3735 3.0816 0.2154 imps:116.7 lr: 0.0718 etc:Thu Jul 15 16:15:10 2021
step:  450/ 1300 loss:0.4418 0.3655 3.0225 0.2061 imps:129.3 lr: 0.0682 etc:Thu Jul 15 16:15:09 2021
Epoch 8/20
step:  500/ 1300 loss:0.4388 0.3615 2.9624 0.1987 imps:127.7 lr: 0.0646 etc:Thu Jul 15 16:15:10 2021
Epoch 9/20
step:  550/ 1300 loss:0.4314 0.3551 2.9292 0.2051 imps:126.5 lr: 0.0610 etc:Thu Jul 15 16:15:10 2021
Epoch 10/20
step:  600/ 1300 loss:0.4298 0.3531 2.9175 0.2070 imps:121.1 lr: 0.0573 etc:Thu Jul 15 16:15:10 2021
Epoch 11/20
step:  650/ 1300 loss:0.4266 0.3510 2.8702 0.1972 imps:55.2 lr: 0.0536 etc:Thu Jul 15 16:15:10 2021
step:  700/ 1300 loss:0.4254 0.3520 2.8610 0.2124 imps:128.3 lr: 0.0499 etc:Thu Jul 15 16:15:10 2021
Epoch 12/20
step:  750/ 1300 loss:0.4224 0.3492 2.8552 0.1976 imps:125.6 lr: 0.0461 etc:Thu Jul 15 16:15:10 2021
Epoch 13/20
step:  800/ 1300 loss:0.4242 0.3497 2.8391 0.1976 imps:122.4 lr: 0.0423 etc:Thu Jul 15 16:15:10 2021
Epoch 14/20
step:  850/ 1300 loss:0.4223 0.3450 2.8033 0.1947 imps:101.3 lr: 0.0385 etc:Thu Jul 15 16:15:11 2021
step:  900/ 1300 loss:0.4173 0.3439 2.7786 0.2063 imps:127.6 lr: 0.0346 etc:Thu Jul 15 16:15:10 2021
Epoch 15/20
step:  950/ 1300 loss:0.4198 0.3462 2.7764 0.1952 imps:127.1 lr: 0.0307 etc:Thu Jul 15 16:15:10 2021
Epoch 16/20
step: 1000/ 1300 loss:0.4178 0.3419 2.7534 0.1950 imps:123.9 lr: 0.0267 etc:Thu Jul 15 16:15:11 2021
Epoch 17/20
step: 1050/ 1300 loss:0.4186 0.3490 2.7395 0.1896 imps:112.3 lr: 0.0227 etc:Thu Jul 15 16:15:11 2021
step: 1100/ 1300 loss:0.4125 0.3361 2.7461 0.1902 imps:127.6 lr: 0.0186 etc:Thu Jul 15 16:15:10 2021
Epoch 18/20
step: 1150/ 1300 loss:0.4116 0.3388 2.7151 0.1871 imps:126.5 lr: 0.0143 etc:Thu Jul 15 16:15:11 2021
Epoch 19/20
step: 1200/ 1300 loss:0.4100 0.3357 2.7342 0.1871 imps:125.6 lr: 0.0099 etc:Thu Jul 15 16:15:11 2021
Epoch 20/20
step: 1250/ 1300 loss:0.4159 0.3449 2.6677 0.1851 imps:118.5 lr: 0.0053 etc:Thu Jul 15 16:15:11 2021
Analyzing displacements mean ... done.
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 8, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': '0.35', 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg_cdy', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': True, 'eval_sem_seg_pass': True}
step.make_sem_seg_labels: Thu Jul 15 16:15:19 2021
model pretrained initialized
sess/res50_irn_cdy.pth
[]
step.eval_sem_seg: Thu Jul 15 16:21:34 2021
[[69246523  6540317]
 [ 8866667 52447805]]
total images 2092
0.1047406931410414 0.07725984701378052
0.09638696245890621 0.13067120435670354
{'precision': array([0.8864895 , 0.88912485]), 'recall': array([0.91370115, 0.85539031]), 'F_score': array([0.89988966, 0.87193141])}
{'iou': array([0.81799946, 0.77294183]), 'miou': 0.7954706465147842}
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'cdy12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'voc12/train_aug.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.4, 'conf_bg_thres': 0.3, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 8, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': 0.25, 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label_cdy', 'sem_seg_out_dir': 'result/sem_seg', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': True, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': False, 'eval_sem_seg_pass': False}
step.cam_to_ir_label: Thu Jul 15 17:05:02 2021
[ ]
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'cdy12/train_aug_building.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 256, 'irn_batch_size': 32, 'irn_num_epoches': 20, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 8, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': 0.25, 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy.pth', 'cam_out_dir': 'result/cam_adv_mask', 'ir_label_out_dir': 'result/ir_label_cdy', 'sem_seg_out_dir': 'result/sem_seg', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': True, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': False, 'eval_sem_seg_pass': False}
step.train_irn: Thu Jul 15 17:06:54 2021
model pretrained initialized
Epoch 1/20
step:    0/ 1300 loss:0.8731 0.4751 4.0801 0.2017 imps:31.3 lr: 0.1000 etc:Thu Jul 15 17:29:04 2021
step:   50/ 1300 loss:0.5588 0.5126 4.0822 0.0219 imps:138.4 lr: 0.0965 etc:Thu Jul 15 17:11:57 2021
Epoch 2/20
step:  100/ 1300 loss:0.4805 0.4249 3.9606 0.0855 imps:141.2 lr: 0.0930 etc:Thu Jul 15 17:11:52 2021
Epoch 3/20
step:  150/ 1300 loss:0.4685 0.4059 3.6598 0.1491 imps:137.3 lr: 0.0896 etc:Thu Jul 15 17:11:51 2021
Epoch 4/20
step:  200/ 1300 loss:0.4459 0.3853 3.5483 0.1394 imps:108.3 lr: 0.0860 etc:Thu Jul 15 17:11:51 2021
step:  250/ 1300 loss:0.4391 0.3834 3.4552 0.1469 imps:142.2 lr: 0.0825 etc:Thu Jul 15 17:11:48 2021
Epoch 5/20
step:  300/ 1300 loss:0.4277 0.3682 3.2487 0.1987 imps:139.6 lr: 0.0790 etc:Thu Jul 15 17:11:49 2021
Epoch 6/20
step:  350/ 1300 loss:0.4267 0.3656 3.1294 0.2017 imps:135.4 lr: 0.0754 etc:Thu Jul 15 17:11:49 2021
Epoch 7/20
step:  400/ 1300 loss:0.4189 0.3599 3.0764 0.2080 imps:123.9 lr: 0.0718 etc:Thu Jul 15 17:11:49 2021
step:  450/ 1300 loss:0.4170 0.3500 3.0133 0.2021 imps:142.1 lr: 0.0682 etc:Thu Jul 15 17:11:48 2021
Epoch 8/20
step:  500/ 1300 loss:0.4133 0.3515 2.9945 0.2071 imps:140.1 lr: 0.0646 etc:Thu Jul 15 17:11:49 2021
Epoch 9/20
step:  550/ 1300 loss:0.4042 0.3436 2.9407 0.2021 imps:137.5 lr: 0.0610 etc:Thu Jul 15 17:11:49 2021
Epoch 10/20
step:  600/ 1300 loss:0.4094 0.3470 2.9096 0.2048 imps:132.5 lr: 0.0573 etc:Thu Jul 15 17:11:49 2021
Epoch 11/20
step:  650/ 1300 loss:0.4066 0.3430 2.9170 0.1947 imps:53.0 lr: 0.0536 etc:Thu Jul 15 17:11:49 2021
step:  700/ 1300 loss:0.4036 0.3388 2.8921 0.1997 imps:141.6 lr: 0.0499 etc:Thu Jul 15 17:11:49 2021
Epoch 12/20
step:  750/ 1300 loss:0.4009 0.3416 2.8814 0.1986 imps:139.4 lr: 0.0461 etc:Thu Jul 15 17:11:49 2021
Epoch 13/20
step:  800/ 1300 loss:0.3965 0.3319 2.8299 0.1919 imps:135.6 lr: 0.0423 etc:Thu Jul 15 17:11:49 2021
Epoch 14/20
step:  850/ 1300 loss:0.4006 0.3372 2.8116 0.2013 imps:114.9 lr: 0.0385 etc:Thu Jul 15 17:11:49 2021
step:  900/ 1300 loss:0.3965 0.3347 2.7838 0.1971 imps:141.8 lr: 0.0346 etc:Thu Jul 15 17:11:49 2021
Epoch 15/20
step:  950/ 1300 loss:0.3930 0.3308 2.7553 0.1992 imps:140.1 lr: 0.0307 etc:Thu Jul 15 17:11:49 2021
Epoch 16/20
step: 1000/ 1300 loss:0.3908 0.3237 2.7246 0.1940 imps:136.3 lr: 0.0267 etc:Thu Jul 15 17:11:49 2021
Epoch 17/20
step: 1050/ 1300 loss:0.3939 0.3288 2.7797 0.1894 imps:121.0 lr: 0.0227 etc:Thu Jul 15 17:11:49 2021
step: 1100/ 1300 loss:0.3918 0.3283 2.7226 0.1889 imps:140.8 lr: 0.0186 etc:Thu Jul 15 17:11:49 2021
Epoch 18/20
step: 1150/ 1300 loss:0.3910 0.3261 2.6851 0.1867 imps:140.9 lr: 0.0143 etc:Thu Jul 15 17:11:49 2021
Epoch 19/20
step: 1200/ 1300 loss:0.3860 0.3241 2.6895 0.1866 imps:138.5 lr: 0.0099 etc:Thu Jul 15 17:11:49 2021
Epoch 20/20
step: 1250/ 1300 loss:0.3940 0.3281 2.6802 0.1914 imps:132.1 lr: 0.0053 etc:Thu Jul 15 17:11:49 2021
Analyzing displacements mean ... done.
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 8, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': '0.35', 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg_cdy', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': True, 'eval_sem_seg_pass': True}
step.make_sem_seg_labels: Thu Jul 15 17:11:57 2021
model pretrained initialized
sess/res50_irn_cdy.pth
[]
step.eval_sem_seg: Thu Jul 15 17:18:11 2021
[[69872801  5914039]
 [10054358 51260114]]
total images 2092
0.11712741940064719 0.06889511257752945
0.08796920996807445 0.14955497080695423
{'precision': array([0.87420599, 0.89656097]), 'recall': array([0.92196483, 0.83601982]), 'F_score': array([0.89745047, 0.86523266])}
{'iou': array([0.81397747, 0.76247582]), 'miou': 0.7882266436233973}
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/VOCdevkit/VOC2012/', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'voc12/train_aug.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 8, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': 0.25, 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': True, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': False, 'eval_sem_seg_pass': False}
step.eval_cam: Tue Aug 31 17:00:10 2021
threshold: 0.25 iou: [0.69969069 0.6912714 ] miou: 0.695481042910221 i_imgs 2092
among_predfg_bg 0.2505427882878435
threshold: 0.26 iou: [0.70637386 0.69307168] miou: 0.699722768881359 i_imgs 2092
among_predfg_bg 0.24307024628806195
threshold: 0.27 iou: [0.71245076 0.69440787] miou: 0.7034293149398291 i_imgs 2092
among_predfg_bg 0.2357156909899774
threshold: 0.28 iou: [0.71799712 0.69534014] miou: 0.7066686286660933 i_imgs 2092
among_predfg_bg 0.22844469699468328
threshold: 0.29 iou: [0.72298649 0.69582061] miou: 0.7094035530354996 i_imgs 2092
among_predfg_bg 0.22129207423646743
threshold: 0.3 iou: [0.72731477 0.69571353] miou: 0.7115141511480318 i_imgs 2092
among_predfg_bg 0.21435200296190177
threshold: 0.31 iou: [0.73107096 0.69504734] miou: 0.7130591487955297 i_imgs 2092
among_predfg_bg 0.20754566860398616
threshold: 0.32 iou: [0.73426276 0.69381055] miou: 0.7140366557073059 i_imgs 2092
among_predfg_bg 0.20088678727713075
threshold: 0.33 iou: [0.73692762 0.69202323] miou: 0.7144754251616343 i_imgs 2092
among_predfg_bg 0.19436568712054494
threshold: 0.34 iou: [0.73908797 0.68968442] miou: 0.7143861935582436 i_imgs 2092
among_predfg_bg 0.18797851563272158
threshold: 0.35 iou: [0.74072581 0.68674505] miou: 0.7137354334544695 i_imgs 2092
among_predfg_bg 0.18175243808076685
threshold: 0.36 iou: [0.74186372 0.68319715] miou: 0.7125304321896595 i_imgs 2092
among_predfg_bg 0.17567694484194488
threshold: 0.37 iou: [0.74255747 0.67908722] miou: 0.7108223481613407 i_imgs 2092
among_predfg_bg 0.16972587494308047
threshold: 0.38 iou: [0.74279566 0.67437345] miou: 0.708584556444359 i_imgs 2092
among_predfg_bg 0.16391948762536335
threshold: 0.39 iou: [0.74260601 0.66907427] miou: 0.7058401391707532 i_imgs 2092
among_predfg_bg 0.15825921557027373
threshold: 0.4 iou: [0.74196808 0.66311831] miou: 0.7025431980457184 i_imgs 2092
among_predfg_bg 0.15275508658847758
threshold: 0.41 iou: [0.74092833 0.65653631] miou: 0.6987323179366327 i_imgs 2092
among_predfg_bg 0.14737635951252198
threshold: 0.42 iou: [0.73944206 0.64926519] miou: 0.6943536234619379 i_imgs 2092
among_predfg_bg 0.14220645916625269
threshold: 0.43 iou: [0.7375911  0.64138214] miou: 0.6894866212681888 i_imgs 2092
among_predfg_bg 0.13717948740682823
threshold: 0.44 iou: [0.73536875 0.6328366 ] miou: 0.6841026729003894 i_imgs 2092
among_predfg_bg 0.13229509986659238
result/cam_adv_mask_cdy
[0.695481042910221, 0.699722768881359, 0.7034293149398291, 0.7066686286660933, 0.7094035530354996, 0.7115141511480318, 0.7130591487955297, 0.7140366557073059, 0.7144754251616343, 0.7143861935582436, 0.7137354334544695, 0.7125304321896595, 0.7108223481613407, 0.708584556444359, 0.7058401391707532, 0.7025431980457184, 0.6987323179366327, 0.6943536234619379, 0.6894866212681888, 0.6841026729003894]
0.7144754251616343
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': '6', 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': '0.35', 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg_cdy', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': True, 'eval_sem_seg_pass': True}
step.make_sem_seg_labels: Tue Aug 31 22:42:39 2021
model pretrained initialized
sess/res50_irn_cdy.pth
[{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 6, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': '0.35', 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg_cdy', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': True, 'eval_sem_seg_pass': True}
step.make_sem_seg_labels: Tue Aug 31 22:44:16 2021
model pretrained initialized
sess/res50_irn_cdy.pth
[]
step.eval_sem_seg: Tue Aug 31 22:50:30 2021
[[71974463  3812377]
 [13274187 48040285]]
total images 2092
0.14904596822131866 0.04280634446310616
0.05853771614223191 0.20382050112696226
{'precision': array([0.8442886 , 0.92647674]), 'recall': array([0.94969606, 0.78350646]), 'F_score': array([0.89389566, 0.84901479])}
{'iou': array([0.80814769, 0.73764178]), 'miou': 0.7728947350231905}

{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 9, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': '0.35', 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg_cdy', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': True, 'eval_sem_seg_pass': False}
step.make_sem_seg_labels: Sat Sep  4 20:45:06 2021
model pretrained initialized
sess/res50_irn_cdy.pth
[{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 9, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': '0.35', 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg_cdy', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': True, 'eval_sem_seg_pass': False}
step.make_sem_seg_labels: Sat Sep  4 20:45:36 2021
model pretrained initialized
sess/res50_irn_cdy.pth
[]
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 9, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': '0.35', 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg_cdy', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': True, 'eval_sem_seg_pass': False}
step.make_sem_seg_labels: Sat Sep  4 20:47:09 2021
model pretrained initialized
sess/res50_irn_cdy.pth
[]
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'cdy12/train_aug_building.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 256, 'irn_batch_size': 32, 'irn_num_epoches': 20, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 9, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': 0.25, 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy.pth', 'cam_out_dir': 'result/cam_adv_mask', 'ir_label_out_dir': 'result/ir_label_cdy', 'sem_seg_out_dir': 'result/sem_seg', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': True, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': False, 'eval_sem_seg_pass': False}
step.train_irn: Sat Sep  4 20:52:44 2021
model pretrained initialized
Epoch 1/20
step:    0/ 1300 loss:0.7181 0.6910 4.1007 0.1978 imps:9.2 lr: 0.1000 etc:Sat Sep  4 22:08:25 2021
step:   50/ 1300 loss:0.5705 0.5177 4.0786 0.0200 imps:50.6 lr: 0.0965 etc:Sat Sep  4 21:06:27 2021
Epoch 2/20
step:  100/ 1300 loss:0.4843 0.4232 4.0223 0.0469 imps:135.4 lr: 0.0930 etc:Sat Sep  4 21:03:01 2021
Epoch 3/20
step:  150/ 1300 loss:0.4585 0.3925 3.7645 0.1553 imps:129.4 lr: 0.0896 etc:Sat Sep  4 21:01:16 2021
Epoch 4/20
step:  200/ 1300 loss:0.4448 0.3841 3.5596 0.1495 imps:102.5 lr: 0.0860 etc:Sat Sep  4 21:00:24 2021
step:  250/ 1300 loss:0.4405 0.3770 3.4687 0.1531 imps:140.3 lr: 0.0825 etc:Sat Sep  4 20:59:49 2021
Epoch 5/20
step:  300/ 1300 loss:0.4331 0.3695 3.2480 0.1989 imps:137.1 lr: 0.0790 etc:Sat Sep  4 20:59:29 2021
Epoch 6/20
step:  350/ 1300 loss:0.4254 0.3669 3.1139 0.2174 imps:131.4 lr: 0.0754 etc:Sat Sep  4 20:59:14 2021
Epoch 7/20
step:  400/ 1300 loss:0.4250 0.3566 3.0781 0.2055 imps:123.0 lr: 0.0718 etc:Sat Sep  4 20:59:03 2021
step:  450/ 1300 loss:0.4159 0.3566 3.0262 0.1990 imps:140.4 lr: 0.0682 etc:Sat Sep  4 20:58:53 2021
Epoch 8/20
step:  500/ 1300 loss:0.4135 0.3494 2.9986 0.1990 imps:136.8 lr: 0.0646 etc:Sat Sep  4 20:58:47 2021
Epoch 9/20
step:  550/ 1300 loss:0.4106 0.3450 2.9128 0.2027 imps:131.1 lr: 0.0610 etc:Sat Sep  4 20:58:42 2021
Epoch 10/20
step:  600/ 1300 loss:0.4114 0.3469 2.9284 0.2038 imps:128.0 lr: 0.0573 etc:Sat Sep  4 20:58:37 2021
Epoch 11/20
step:  650/ 1300 loss:0.4066 0.3426 2.9063 0.1965 imps:46.9 lr: 0.0536 etc:Sat Sep  4 20:58:34 2021
step:  700/ 1300 loss:0.4065 0.3422 2.8704 0.1991 imps:138.0 lr: 0.0499 etc:Sat Sep  4 20:58:30 2021
Epoch 12/20
step:  750/ 1300 loss:0.4007 0.3365 2.8354 0.1977 imps:134.2 lr: 0.0461 etc:Sat Sep  4 20:58:27 2021
Epoch 13/20
step:  800/ 1300 loss:0.4030 0.3399 2.8419 0.2040 imps:128.5 lr: 0.0423 etc:Sat Sep  4 20:58:25 2021
Epoch 14/20
step:  850/ 1300 loss:0.4009 0.3384 2.8183 0.1916 imps:110.6 lr: 0.0385 etc:Sat Sep  4 20:58:22 2021
step:  900/ 1300 loss:0.3976 0.3327 2.7831 0.1973 imps:139.6 lr: 0.0346 etc:Sat Sep  4 20:58:20 2021
Epoch 15/20
step:  950/ 1300 loss:0.4001 0.3358 2.8070 0.1950 imps:136.6 lr: 0.0307 etc:Sat Sep  4 20:58:18 2021
Epoch 16/20
step: 1000/ 1300 loss:0.3937 0.3319 2.7801 0.1905 imps:128.8 lr: 0.0267 etc:Sat Sep  4 20:58:17 2021
Epoch 17/20
step: 1050/ 1300 loss:0.3974 0.3299 2.7712 0.1915 imps:121.0 lr: 0.0227 etc:Sat Sep  4 20:58:16 2021
step: 1100/ 1300 loss:0.3947 0.3294 2.7102 0.1950 imps:139.8 lr: 0.0186 etc:Sat Sep  4 20:58:14 2021
Epoch 18/20
step: 1150/ 1300 loss:0.3953 0.3302 2.6938 0.1907 imps:138.2 lr: 0.0143 etc:Sat Sep  4 20:58:12 2021
Epoch 19/20
step: 1200/ 1300 loss:0.3923 0.3289 2.7219 0.1896 imps:134.4 lr: 0.0099 etc:Sat Sep  4 20:58:11 2021
Epoch 20/20
step: 1250/ 1300 loss:0.3979 0.3309 2.6993 0.1897 imps:127.0 lr: 0.0053 etc:Sat Sep  4 20:58:11 2021
Analyzing displacements mean ... done.
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 9, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': '0.35', 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg_cdy', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': True, 'eval_sem_seg_pass': True}
step.make_sem_seg_labels: Sat Sep  4 20:58:18 2021
model pretrained initialized
sess/res50_irn_cdy.pth
[]
step.eval_sem_seg: Sat Sep  4 21:09:39 2021
[[68882319  6904521]
 [ 9188547 52125925]]
total images 2092
0.10813186411260478 0.08125318687868999
0.10121112459106518 0.13469191783584378
{'precision': array([0.88230505, 0.88303458]), 'recall': array([0.90889552, 0.85014065]), 'F_score': array([0.89540291, 0.86627547])}
{'iou': array([0.81061495, 0.76409696]), 'miou': 0.7873559532908982}
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 9, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': '0.35', 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg_cdy', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': True, 'eval_sem_seg_pass': False}
step.make_sem_seg_labels: Sat Sep  4 21:11:44 2021
model pretrained initialized
sess/res50_irn_cdy.pth
[]
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 9, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': '0.35', 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy_CBM.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg_cdy', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': True, 'eval_sem_seg_pass': False}
step.make_sem_seg_labels: Sat Sep  4 21:13:36 2021
model pretrained initialized
sess/res50_irn_cdy_CBM.pth
[]
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 9, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': '0.35', 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy_CBM.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg_cdy', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': True, 'eval_sem_seg_pass': False}
step.make_sem_seg_labels: Sat Sep  4 21:40:46 2021
model pretrained initialized
sess/res50_irn_cdy_CBM.pth
[]
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 9, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': '0.35', 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy_CBM.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg_cdy', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': True, 'eval_sem_seg_pass': False}
step.make_sem_seg_labels: Sat Sep  4 21:43:50 2021
model pretrained initialized
sess/res50_irn_cdy_CBM.pth
[]
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 9, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': '0.35', 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy_CBM.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg_cdy', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': True, 'eval_sem_seg_pass': False}
step.make_sem_seg_labels: Sat Sep  4 21:47:52 2021
model pretrained initialized
sess/res50_irn_cdy_CBM.pth
[]
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 9, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': '0.35', 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy_CBM.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg_cdy', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': True, 'eval_sem_seg_pass': False}
step.make_sem_seg_labels: Sat Sep  4 21:48:46 2021
model pretrained initialized
sess/res50_irn_cdy_CBM.pth
[]
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'cdy12/train_aug_building.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 256, 'irn_batch_size': 32, 'irn_num_epoches': 20, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 9, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': 0.25, 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy.pth', 'cam_out_dir': 'result/cam_adv_mask', 'ir_label_out_dir': 'result/ir_label_cdy', 'sem_seg_out_dir': 'result/sem_seg', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': True, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': False, 'eval_sem_seg_pass': False}
step.train_irn: Sat Sep  4 21:52:41 2021
model pretrained initialized
Epoch 1/20
step:    0/ 1300 loss:0.7033 0.6800 4.0891 0.2079 imps:22.9 lr: 0.1000 etc:Sat Sep  4 22:23:02 2021
step:   50/ 1300 loss:0.6224 0.5516 4.0804 0.0207 imps:121.0 lr: 0.0965 etc:Sat Sep  4 21:58:27 2021
Epoch 2/20
step:  100/ 1300 loss:0.5128 0.4376 4.0110 0.0538 imps:124.5 lr: 0.0930 etc:Sat Sep  4 21:58:19 2021
Epoch 3/20
step:  150/ 1300 loss:0.4926 0.4083 3.7509 0.1356 imps:119.7 lr: 0.0896 etc:Sat Sep  4 21:58:17 2021
Epoch 4/20
step:  200/ 1300 loss:0.4715 0.3988 3.5850 0.1343 imps:97.4 lr: 0.0860 etc:Sat Sep  4 21:58:16 2021
step:  250/ 1300 loss:0.4646 0.3909 3.4961 0.1424 imps:126.3 lr: 0.0825 etc:Sat Sep  4 21:58:13 2021
Epoch 5/20
step:  300/ 1300 loss:0.4556 0.3822 3.3235 0.1880 imps:124.0 lr: 0.0790 etc:Sat Sep  4 21:58:14 2021
Epoch 6/20
step:  350/ 1300 loss:0.4477 0.3732 3.1351 0.2034 imps:121.4 lr: 0.0754 etc:Sat Sep  4 21:58:14 2021
Epoch 7/20
step:  400/ 1300 loss:0.4433 0.3718 3.0731 0.2055 imps:110.5 lr: 0.0718 etc:Sat Sep  4 21:58:14 2021
step:  450/ 1300 loss:0.4359 0.3646 3.0265 0.2063 imps:125.6 lr: 0.0682 etc:Sat Sep  4 21:58:13 2021
Epoch 8/20
step:  500/ 1300 loss:0.4324 0.3580 2.9733 0.2082 imps:123.6 lr: 0.0646 etc:Sat Sep  4 21:58:14 2021
Epoch 9/20
step:  550/ 1300 loss:0.4291 0.3606 2.9607 0.2027 imps:120.6 lr: 0.0610 etc:Sat Sep  4 21:58:14 2021
Epoch 10/20
step:  600/ 1300 loss:0.4280 0.3613 2.9115 0.2157 imps:112.6 lr: 0.0573 etc:Sat Sep  4 21:58:15 2021
Epoch 11/20
step:  650/ 1300 loss:0.4283 0.3563 2.8988 0.1968 imps:39.8 lr: 0.0536 etc:Sat Sep  4 21:58:15 2021
step:  700/ 1300 loss:0.4224 0.3560 2.8958 0.1967 imps:123.6 lr: 0.0499 etc:Sat Sep  4 21:58:15 2021
Epoch 12/20
step:  750/ 1300 loss:0.4260 0.3542 2.8541 0.1983 imps:122.4 lr: 0.0461 etc:Sat Sep  4 21:58:15 2021
Epoch 13/20
step:  800/ 1300 loss:0.4168 0.3476 2.8287 0.1971 imps:118.1 lr: 0.0423 etc:Sat Sep  4 21:58:15 2021
Epoch 14/20
step:  850/ 1300 loss:0.4187 0.3500 2.8374 0.1970 imps:95.1 lr: 0.0385 etc:Sat Sep  4 21:58:15 2021
step:  900/ 1300 loss:0.4121 0.3453 2.8106 0.1915 imps:124.8 lr: 0.0346 etc:Sat Sep  4 21:58:15 2021
Epoch 15/20
step:  950/ 1300 loss:0.4172 0.3454 2.7466 0.2029 imps:122.8 lr: 0.0307 etc:Sat Sep  4 21:58:15 2021
Epoch 16/20
step: 1000/ 1300 loss:0.4173 0.3510 2.7701 0.1901 imps:119.6 lr: 0.0267 etc:Sat Sep  4 21:58:15 2021
Epoch 17/20
step: 1050/ 1300 loss:0.4085 0.3393 2.7456 0.1886 imps:111.0 lr: 0.0227 etc:Sat Sep  4 21:58:15 2021
step: 1100/ 1300 loss:0.4152 0.3448 2.7456 0.1954 imps:126.2 lr: 0.0186 etc:Sat Sep  4 21:58:15 2021
Epoch 18/20
step: 1150/ 1300 loss:0.4082 0.3401 2.7378 0.1854 imps:123.5 lr: 0.0143 etc:Sat Sep  4 21:58:15 2021
Epoch 19/20
step: 1200/ 1300 loss:0.4102 0.3405 2.7094 0.1826 imps:123.6 lr: 0.0099 etc:Sat Sep  4 21:58:15 2021
Epoch 20/20
step: 1250/ 1300 loss:0.4089 0.3376 2.6530 0.1898 imps:114.4 lr: 0.0053 etc:Sat Sep  4 21:58:15 2021
Analyzing displacements mean ... done.
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 9, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': '0.35', 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy_CBM.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg_cdy', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': True, 'eval_sem_seg_pass': False}
step.make_sem_seg_labels: Sat Sep  4 21:58:23 2021
model pretrained initialized
sess/res50_irn_cdy_CBM.pth
[]
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/VOCdevkit/VOC2012/', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'voc12/train_aug.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 9, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': 0.25, 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': True, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': False, 'eval_sem_seg_pass': False}
step.eval_cam: Sun Sep  5 17:56:37 2021
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 9, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': '0.35', 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy_CBM.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg_cdy', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': False, 'eval_sem_seg_pass': True}
step.eval_sem_seg: Sun Sep  5 18:15:08 2021
[[69891610  5895230]
 [15162930 46151542]]
total images 2092
0.16671762886261288 0.06481852565432544
0.08771397319988117 0.2256062673808612
{'precision': array([0.82172698, 0.88673207]), 'recall': array([0.92221301, 0.75270227]), 'F_score': array([0.86907499, 0.81423845])}
{'iou': array([0.76846385, 0.68667976]), 'miou': 0.7275718024511597}
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/zdy/AdvCAM/Dataset/cdy', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'cdy12/train_aug_building.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 9, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': '0.35', 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn_cdy_CBM.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg_cdy', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': False, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': False, 'eval_sem_seg_pass': True}
step.eval_sem_seg: Sun Sep  5 18:16:56 2021
[[63618423 12168417]
 [ 8219484 53094988]]
total images 2092
0.09784363377214311 0.14485120191665568
0.16559524490116329 0.11185575460975683
{'precision': array([0.88558291, 0.81354916]), 'recall': array([0.83943892, 0.86594545]), 'F_score': array([0.86189374, 0.83892998])}
{'iou': array([0.75730516, 0.722549  ]), 'miou': 0.7399270824001405}
{'num_workers': 4, 'voc12_root': '/home/ubt/devdata/VOCdevkit/VOC2012/', 'train_list': 'voc12/train_aug.txt', 'val_list': 'voc12/val.txt', 'infer_list': 'voc12/train_aug.txt', 'chainer_eval_set': 'train', 'cam_network': 'net.resnet50_cam', 'cam_crop_size': 512, 'cam_batch_size': 16, 'cam_num_epoches': 5, 'cam_learning_rate': 0.1, 'cam_weight_decay': 0.0001, 'cam_eval_thres': 0.15, 'cam_scales': (1.0, 0.5, 1.5, 2.0), 'conf_fg_thres': 0.35, 'conf_bg_thres': 0.15, 'irn_network': 'net.resnet50_irn', 'irn_crop_size': 512, 'irn_batch_size': 32, 'irn_num_epoches': 3, 'irn_learning_rate': 0.1, 'irn_weight_decay': 0.0001, 'beta': 10, 'exp_times': 9, 'ins_seg_bg_thres': 0.25, 'sem_seg_bg_thres': 0.25, 'log_name': 'sample_train_eval', 'cam_weights_name': 'sess/res50_cam.pth', 'irn_weights_name': 'sess/res50_irn.pth', 'cam_out_dir': 'result/cam_adv_mask_cdy', 'ir_label_out_dir': 'result/ir_label', 'sem_seg_out_dir': 'result/sem_seg', 'ins_seg_out_dir': 'result/ins_seg', 'train_cam_pass': False, 'make_cam_pass': False, 'eval_cam_pass': True, 'cam_to_ir_label_pass': False, 'train_irn_pass': False, 'make_ins_seg_pass': False, 'eval_ins_seg_pass': False, 'make_sem_seg_pass': False, 'eval_sem_seg_pass': False}
step.eval_cam: Sun Sep  5 19:11:32 2021
0.1204592176525845 0.14261316137081503
0.1669561093973282 0.14102066125600354
{'precision': array([0.85950424, 0.80563431]), 'recall': array([0.83785498, 0.83071641]), 'F_score': array([0.84854154, 0.81798313])}
{'iou': array([0.73692762, 0.69202323]), 'miou': 0.7144754251616343}
